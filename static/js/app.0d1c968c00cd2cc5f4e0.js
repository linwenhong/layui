webpackJsonp([5],{"3hRt":function(t,e){},"9wPv":function(t,e){},BHhu:function(t,e,n){"use strict";var i={api_url:"http://localhost:3000/",base_url:"http://localhost:8085/"};e.a=i},BXxX:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mtWM"),a=n.n(i),r=n("BHhu");a.a.defaults.baseURL=r.a.api_url,a.a.defaults.timeout=5e3;var s=!0;function o(){s&&(s=!1,setTimeout(function(){s=!0,window.location.href=r.a.base_url},2e3))}var u={get:function(t,e){return a.a.get(t,{params:e}).then(function(t){return 401==t.data.status&&o(),t.data}).catch(function(){})},post:function(t,e){return a.a.post(t,e).then(function(t){return 401==t.data.status&&o(),t.data}).catch(function(){})},put:function(t,e){return a.a.put(t,e).then(function(t){return 401==t.data.status&&o(),t.data}).catch(function(){})},del:function(t,e){return e&&(t+=function(t){var e="?",n=!0;for(var i in t)n?(n=!1,e+=i+"="+t[i]):e+="&"+i+"="+t[i];return e}(e)),a.a.delete(t).then(function(t){return 401==t.data.status&&o(),t.data}).catch(function(){})},patch:function(t,e){return a.a.patch(t,e).then(function(t){return 401==t.data.status&&o(),t.data}).catch(function(){})}};function c(t,e){return u.get(t,e).then(function(t){return t})}var l,f=(l="user",{get:function(t){return c(l,t)},details:function(t,e){return c(l+"/"+t,e)},add:function(t){return function(t,e){return u.post(t,e).then(function(t){return t})}(l,t)},edit:function(t,e){return function(t,e){return u.put(t,e).then(function(t){return t})}(l+"/"+t,e)},del:function(t,e){return function(t,e){return u.del(t,e).then(function(t){return t})}(l+"/"+t,e)}});e.default={User:f}},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=n("VU/8")({name:"App"},a,!1,function(t){n("3hRt")},null,null).exports,s=n("/ocq"),o={IndexComponent:function(t){return n.e(2).then(function(){var e=[n("PXCP")];t.apply(null,e)}.bind(this)).catch(n.oe)},AdminComponent:function(t){return n.e(0).then(function(){var e=[n("uuCP")];t.apply(null,e)}.bind(this)).catch(n.oe)},AdminIndexComponent:function(t){return n.e(3).then(function(){var e=[n("IvQI")];t.apply(null,e)}.bind(this)).catch(n.oe)},AdminUserComponent:function(t){return n.e(1).then(function(){var e=[n("ENCw")];t.apply(null,e)}.bind(this)).catch(n.oe)}};i.a.use(s.a);var u=new s.a({mode:"history",routes:[{path:"/",component:o.IndexComponent},{path:"/views",component:o.IndexComponent,children:[{path:"admin",component:o.AdminComponent,children:[{path:"index",name:"index",meta:{title:"首页"},component:o.AdminIndexComponent},{path:"user",name:"user",meta:{title:"用户管理"},component:o.AdminUserComponent}]}]}]});u.beforeEach(function(t,e,n){console.log(t),n()});var c=u,l=n("NYxO"),f=n("Gu7T"),d=n.n(f),h=n("//Fk"),p=n.n(h),v=n("BO1k"),m=n.n(v),y=n("d7EF"),w=n.n(y),b={state:{visitedviews:[]},mutations:{ADD_VISITED_VIEWS:function(t,e){t.visitedviews.push({name:e.name,path:e.path,title:e.meta.title||"新的标签页"})},DEL_VISITED_VIEWS:function(t,e){var n=!0,i=!1,a=void 0;try{for(var r,s=m()(t.visitedviews.entries());!(n=(r=s.next()).done);n=!0){var o=r.value,u=w()(o,2),c=u[0];if(u[1].path==e.path){t.visitedviews.splice(c,1);break}}}catch(t){i=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}}},actions:{addVisitedViews:function(t,e){(0,t.commit)("ADD_VISITED_VIEWS",e)},delVisitedViews:function(t,e){var n=t.commit,i=t.state;return new p.a(function(t){n("DEL_VISITED_VIEWS",e),t([].concat(d()(i.visitedviews)))})}}},_={visitedviews:function(t){return t.tagsview.visitedviews}};i.a.use(l.a);var g=new l.a.Store({modules:{tagsview:b},getters:_}),V={name:"TagsView",props:{},data:function(){return{}},watch:{$route:function(){this.addViewTags()}},computed:{visitedViews:function(){return this.$store.state.tagsview.visitedviews}},mounted:function(){this.addViewTags()},methods:{openTag:function(t){this.$router.push({name:t})},isActive:function(t){return t.path==this.$route.path},addViewTags:function(){if(this.$route.name){var t=!1,e=this.$route,n=!0,i=!1,a=void 0;try{for(var r,s=m()(this.visitedViews);!(n=(r=s.next()).done);n=!0){var o=r.value;if(e.name==o.name){t=!0;break}}}catch(t){i=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}t||this.$store.dispatch("addVisitedViews",e)}},delSelectTag:function(t){var e=this;this.$store.dispatch("delVisitedViews",t).then(function(n){if(e.isActive(t)){var i=n.slice(-1)[0];i?e.$router.push(i):e.$router.push("/")}})},prevPage:function(){this.nextPage(!1)},nextPage:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.$refs.tabs.getElementsByTagName("li"),n=[0],i=!0,a=!1,r=void 0;try{for(var s,o=m()(e);!(i=(s=o.next()).done);i=!0){var u=s.value.offsetWidth+n[n.length-1];n.push(u)}}catch(t){a=!0,r=t}finally{try{!i&&o.return&&o.return()}finally{if(a)throw r}}console.log(n);var c=this.$refs.tabsView.offsetWidth-120,l=this.$refs.tabs.offsetWidth;if(!(l<=c)){var f=this.$refs.tabs.style.left,d=Math.abs(f.split("px")[0]);if(t){if(l-d<=c)return;var h=c+d;for(var p in n)if(p>0&&n[p]>h&&n[p-1]<=h){this.$refs.tabs.style.left=-n[p-1]+"px";break}}else if(d<=c)this.$refs.tabs.style.left=0;else{var v=d-c;for(var y in n)if(y>0&&n[y]>v&&n[y-1]<=v){this.$refs.tabs.style.left=-n[y-1]+"px";break}}}}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layadmin-pagetabs",attrs:{id:"LAY_app_tabs"}},[n("div",{staticClass:"layui-icon layadmin-tabs-control layui-icon-prev",on:{click:function(e){return t.prevPage()}}}),t._v(" "),n("div",{staticClass:"layui-icon layadmin-tabs-control layui-icon-next",on:{click:function(e){return t.nextPage()}}}),t._v(" "),n("div",{staticClass:"layui-icon layadmin-tabs-control layui-icon-down"}),t._v(" "),n("div",{ref:"tabsView",staticClass:"layui-tab",attrs:{"lay-unauto":"","lay-allowclose":"true","lay-filter":"layadmin-layout-tabs"}},[n("ul",{ref:"tabs",staticClass:"layui-tab-title",staticStyle:{left:"0px"},attrs:{id:"LAY_app_tabsheader"}},[t._m(0),t._v(" "),t._l(Array.from(t.visitedViews),function(e,i){return[n("li",{class:0==i?"layui-this":"",on:{click:function(n){return n.stopPropagation(),t.openTag(e.name)}}},[n("router-link",{key:e.path,staticClass:"tags-view-item",class:t.isActive(e)?"active":"",attrs:{to:e.path}},[n("span",[t._v(t._s(e.title))]),n("i",{staticClass:"layui-icon layui-unselect layui-tab-close",on:{click:function(n){return n.preventDefault(),n.stopPropagation(),t.delSelectTag(e)}}},[t._v("ဆ")])])],1)]})],2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("i",{staticClass:"layui-icon layui-icon-home"})])}]};var C=n("VU/8")(V,x,!1,function(t){n("9wPv")},"data-v-3197c6b2",null).exports;i.a.component("TagsView",C),i.a.config.productionTip=!1,i.a.prototype.$Service=n("BXxX").default,new i.a({el:"#app",router:c,store:g,components:{App:r},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.0d1c968c00cd2cc5f4e0.js.map